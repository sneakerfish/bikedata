<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>CS171 - Protoype V2 - A Tale of Three Cities: Examining Bike-share Growth in the Bay, Boston, and New York City Metropolitan areas from 2017 to the Present</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css">

    <link rel="stylesheet" href="css/leaflet.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<div class="container-fluid">
<section id="intro" class="mt-1">
    <h1>A Tale of Three Cities: Examining Bike-share Ridership in the Bay, Boston, and NYC Metropolitan Areas</h1>
</section>
<section id="scrolly">
    <article>
        <div id="step1" class="step">
            <h2>Comparing Bike-shares</h2>

            <p style="text-align: left">This tool allows comparison of bikeshare programs in three large cities,
                Boston, New York City and San Francisco, all of which were established in the early 2010's.</p>

            <p style="text-align: left">While each city offers similar membership plans and pricing, New York City's
                Citibike is the most expensive followed by the Bay Area's Bay Wheels.
                Meanwhile, Boston's Blue Bikes is significantly more affordable at almost 40% cheaper than New York City's annual plan.</p>

            <p style="text-align: left">New York City's system is significantly more extensive in terms of number of stations when compared to the other programs but supports a much larger population.</p>
        </div>

        <div id="step2" class="step">
            <h2>Bike-share System Trends Across Time</h2>

            <p style="text-align: left">
                In terms of cumulative round trips, New York City due to its population has a larger number of
                cumulative trips since 2017.
            </p>
            <p style="text-align: left">
                The number of stations increased in each city since 2017, although gradually.
            </p>
        </div>

        <div id="step3" class="step">
            <h2>General Trends</h2>
            <p style="text-align: left">Many of the steep declines in the number of trips appear to be happen over holidays or on a weekend. Leading us to conclude that many people use bike-share systems primarily for their work-commute rather than pleasure</p>

            <h2>Bay Area</h2>
            <p style="text-align: left">
                The Bay Area's ridership stayed relatively even until the beginning of 2020 where ridership boomed.
                However, this growth plummeted due to COVID19 pandemic and has since remained steady.
                It can be inferred that this might be due to major employers such as Apple, Facebook, and Google are continuing to support work-from-home policies until at least January 2022.
            </p>

            <h2>Boston Metro</h2>
            <p style="text-align: left">
                Boston's ridership experienced continued steady growth since 2017 with a drop during the start
                of the COVID19 pandemic. Unlike the Bay Area, Boston's ridership in terms of trip appears to have recovered above pre-COVID19 levels.
            </p>

            <h2>NYC Metro</h2>
            <p style="text-align: left">
                Ridership in the NYC Metro follows a similar pattern to Boston in terms of ridership growth. This may have also been encouraged by
                major Wall St employers encouraging workers to come back to the office and the NYC's local government workers being mandated to go back to the office full-time.
            </p>
        </div>
        <div id="step4" class="step">
            <h2>General Trends</h2>
            <p style="text-align: left">
                It is clear that riders in the Boston metro ride longer than their New Yorker and Bay Area counterparts.
                They ride as long as riders in the Bay Area in the winter months and even longer in the summer months.
                While further investigation is needed, we can infer that Boston may have better cycling infrastructure
                and friendlier terrain.
            </p>
            <h2>Seasonality</h2>
            <p style="text-align: left">
                In the Boston and NYC Metros which have four distinct seasons, it is clear that cyclist take longer rides as the weather gets warmer.
                In contrast, the Bay Area which has more consistent temperatures does not experience the same seasonality in ridership.
            </p>
        </div>
        <div id="step5" class="step">
            <h2>Network</h2>
        </div>
        <div id="step6" class="step">
            <h2>Where are cyclists going on a typical day at a particular time?</h2>
            <p style="text-align: left">
                Using the slider and region area buttons, we can examine movement across cities on a typical day.
                We see that in the morning of each region, that riders are leaving their homes and heading towards the city center and vice-versa during the evening.
            </p>
        </div>

        <div id="step7" class="step">
            <h2>What percentage of rides start and end at the same station?</h2>
            <p style="text-align: left">
                Rides that start and end at the same spot seem to be for pleasure or exercise.
                Does the percentage of round trips change depending on month?
            </p>
        </div>

        <div id="step8" class="step">
            <h2>How many people are riding during a typical day (Boston Day View 21st March 2021)?</h2>
            <p style="text-align: left">
                Examining this radar polar coordinate plot that shows ridership across time, we see that the number of riders increases during business hours and decreases in the late evening.
            </p>
        </div>

        <div id="step9" class="step">
            <h2>Concluding Statements</h2>
            <p style="text-align: left">
                We can see that bike-share ridership has steadily grown since 2017. We also expect that as companies begin to recall their workers back to the office that ridership will continue to grow and this
                should be the most pronounced in San Francisco.
            </p>
            <p style="text-align: left">
                It is also our observation that the purpose of many of these rides is for commuting to work supported by our analysis of which stations trips are being are made from and the days and times in which
                these trips are being made.
            </p>
        </div>
    </article>
    <!-- for showing figures during scrolling -->
    <figure id="figure">
        <!--step 1-->
        <div id="summary" class="visualization container" >
            <!--https://en.wikipedia.org/wiki/Bay_Wheels#/media/File:Bay_Wheels_logo.png-->
            <!--https://upload.wikimedia.org/wikipedia/commons/e/e1/Bluebikes_Logo.svg-->
            <!--https://upload.wikimedia.org/wikipedia/commons/a/ad/Citi_Bike_logo.svg-->
            <div class="row">
                <h1 class="col">Getting Started: Bike-share systems by the numbers</h1>
            </div>
            <div class="row">
                <img src="./images/BlueBikes-Carousel-crop1.jpg" class="img-fluid col" alt="Docked bike-share bikes">
            </div>
            <div class="row">
                <table class="table">
                    <thead>
                    <tr style="font-size: x-large">
                        <th scope="col"></th>
                        <th scope="col">Bay Area</th>
                        <th scope="col">Boston Metro</th>
                        <th scope="col">New York City Metro</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <th scope="row">System Name</th>
                        <td><img src="images/bay_wheels_logo.png" style="width: 200px"/></td>
                        <td><img src="images/bluebikes_logo.svg" style="width: 200px"/></td>
                        <td><img src="images/citi_bike_logo.svg" style="width: 200px"/></td>
                    </tr>
                    <tr>
                        <th scope="row">Established</th>
                        <td>August 29, 2013</td>
                        <td>July 28, 2011</td>
                        <td>May 27, 2013</td>
                    </tr>
                    <tr>
                        <th scope="row">Total Stations</th>
                        <td>262+</td>
                        <td>393</td>
                        <td>1000+</td>
                    </tr>
                    <tr>
                        <th scope="row">Coverage Area</th>
                        <td>San Francisco, San Jose, Oakland</td>
                        <td>Boston, Brookline, Cambridge, Everett, Somerville</td>
                        <td>Manhattan, Brooklyn, Queens, The Bronx, Jersey City</td>
                    </tr>
                    <tr>
                        <th scope="row">Cost</th>
                        <td class="cashLabel">$$$</td>
                        <td class="cashLabel">$$</td>
                        <td class="cashLabel">$$$</td>
                    </tr>
                    <tr>
                        <th scope="row" style="padding-left: 5em">Annual</th>
                        <td>$159</td>
                        <td>$109</td>
                        <td>$179</td>
                    </tr>
                    <tr>
                        <th scope="row" style="padding-left: 5em">Monthly</th>
                        <td>$25</td>
                        <td>$25</td>
                        <td>Does not offer</td>
                    </tr>
                    <tr>
                        <th scope="row" style="padding-left: 5em">Single Ride</th>
                        <td>$3.00</td>
                        <td>$2.95</td>
                        <td>$3.50</td>
                    </tr>
                    <tr>
                        <th scope="row">Website</th>
                        <td><a href="https://www.lyft.com/bikes/bay-wheels"
                               target="_blank">www.lyft.com/bikes/bay-wheels</a></td>
                        <td><a href="https://www.bluebikes.com/" target="_blank">www.bluebikes.com</a></td>
                        <td><a href="https://www.citibikenyc.com/" target="_blank">www.citibikenyc.com</a></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!--step 2-->
        <div id="aggregate" class="visualization">
            <div id="aggregateBarChart" class="partview"></div>
            <div id="stackedAreaChart" class="partview"></div>
        </div>

        <!--step 3-->
        <div id="tripCountTrends" class="visualization container-fluid">
            <div class="row">
                <div class="col">
                    <h1 style="padding:0px">How does ridership compare across cities over time?</h1>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <form class="form-inline">
                        <div class="form-group" style="background-color:#f2f2f2">
                            <label for="tripCount-timeSeriesDataType" style="font-weight: bold">Chart Data: </label>
                            <select class="form-control-lg" id="tripCount-timeSeriesDataType" onchange="updateVisualization()">
                                <option value="trip_count">Trip Count</option>
                                <option value="trip_count_norm">Trip Count Normalized</option>
                                <option value="trip_count_7d_ma">Trip Count 7-Day Moving Average</option>
                                <option value="trip_count_7d_ma_norm">Trip Count 7-Day Moving Average Normalized</option>
                            </select>
                            <label style="font-weight: bold; margin-left: 10px;">Bike Share System: </label>
                            <div class="sfInputLabel d-inline cityCheckBoxDiv">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" id="tripCount-sfCheckBox" value="sf" onclick="updateVisualization()"/>
                                    <label class="form-check-label" for="tripCount-sfCheckBox">Bay Area</label>
                                </div>
                            </div>
                            <div class="bostonInputLabel d-inline cityCheckBoxDiv">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" id="tripCount-bostonCheckBox" value="boston" onclick="updateVisualization()"/>
                                    <label class="form-check-label" for="tripCount-bostonCheckBox">Boston Metro</label>
                                </div>
                            </div>
                            <div class="nycInputLabel d-inline cityCheckBoxDiv" >
                                <div class="form-check form-check-inline"">
                                    <input class="form-check-input" type="checkbox" id="tripCount-nycCheckBox" value="nyc" onclick="updateVisualization()"/>
                                    <label class="form-check-label" for="tripCount-nycCheckBox">New York City Metro</label>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="row">
                <div id="tripCountTimeSeriesPlot" class="col"></div>
            </div>
            <div class="row">
                <div class="align-self-center col" id="tripCountTimeSeriesBrush"></div>
            </div>
        </div>

        <!--step 4-->
        <div id="tripDurationTrends" class="visualization container-fluid">
            <div class="row">
                <div class="col">
                    <h1 style="padding:0px">Which city's residents pedal the longest?</h1>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <form class="form-inline row">
                        <div class="form-group col" style="background-color:#f2f2f2">
                            <label for="tripDuration-timeSeriesDataType" style="font-weight: bold">Chart Data: </label>
                            <select class="form-control-lg" id="tripDuration-timeSeriesDataType" onchange="updateVisualization()">
                                <option value="median_trip_duration_minutes">Median Trip Duration (minutes)</option>
                            </select>
                            <label style="font-weight: bold; margin-left: 10px;">Bike Share System: </label>
                            <div class="sfInputLabel d-inline cityCheckBoxDiv">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" id="tripDuration-sfCheckBox" value="sf"  onclick="updateVisualization()">
                                    <label class="form-check-label" for="tripDuration-sfCheckBox">Bay Area</label>
                                </div>
                            </div>
                            <div class="bostonInputLabel d-inline cityCheckBoxDiv">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" id="tripDuration-bostonCheckBox" value="boston"  onclick="updateVisualization()">
                                    <label class="form-check-label" for="tripDuration-bostonCheckBox">Boston Metro</label>
                                </div>
                            </div>
                            <div class="nycInputLabel d-inline cityCheckBoxDiv">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" id="tripDuration-nycCheckBox" value="nyc"  onclick="updateVisualization()">
                                    <label class="form-check-label" for="tripDuration-nycCheckBox">New York City Metro</label>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="row">
                <div id="tripDurationTimeSeriesPlot" class="col"></div>
            </div>
            <div class="row">
                <div class="align-self-center col" id="tripDurationTimeSeriesBrush"></div>
            </div>
        </div>

        <!--step 5-->
        <div id="forceNetwork" class="visualization">

            <h2 class="col">Force Network</h2>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="cityNetworkRadioOptions" id="sfNetworkRadio" value="sf" checked onclick="updateVisualization()">
                <label class="form-check-label sfInputLabel" for="sfNetworkRadio">Bay Area</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="cityNetworkRadioOptions" id="bostonNetworkRadio" value="boston" onclick="updateVisualization()">
                <label class="form-check-label bostonInputLabel" for="bostonNetworkRadio">Boston Metro</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="cityNetworkRadioOptions" id="nycNetworkRadio" value="nyc" onclick="updateVisualization()">
                <label class="form-check-label nycInputLabel" for="nycNetworkRadio">NYC Metro</label>
            </div>
            <div class="form-inline">
                <label for="topStations" id="topStationsLabel">Top Most Frequented Stations</label>
                <input type="range" class="form-range" min="1" max="100" id="topStations" value="20" onchange="updateVisualization()" />
            </div>
            <!-- Parent container for the visualization -->
            <div id="forceStationNetworkArea" class="col" style="height:600px"></div>
        </div>

        <!--step 6-->
        <div id="wind" class="visualization">
            <h2>Overall movement of cyclists at <span id="showWindTime"></span> </h2></br>
            City: <span class="inline-input"> <input type="radio" checked id="boston" name="singleCity" value="boston" onclick="updateWindmap()">
            <label for="boston">Boston</label>
            <input type="radio" id="nyc" name="singleCity" value="nyc" onclick="updateWindmap()">
            <label for="nyc">New York City</label>
            <input type="radio" id="sf" name="singleCity" value="sf" onclick="updateWindmap()">
            <label for="sf">San-Francisco</label></span>
            <span class="inline-input">
                <span id="showWindDay"></span>
            </span>
            <span class="inline-input">
                <label for="windTime">Time: </label>
                <input type="range" id="windTime" min="0" max="1440" width="400px" value=60 onclick="updateWindmap()">
            </span>
            <div id="wind-map"></div>
        </div>

        <!--step 7-->
        <div id="line" class="visualization">
            <div id="lineGraph"></div>
        </div>

        <!--step 8-->
        <div id="radial" class="visualization">
            <div class="container-fluid">
                <form>
                    <label>Toggle dates to show the number of active riders at any moment in time on those days.</label>
                    <select id="day-view-selection" class="form-select" multiple aria-label="Boston" onchange="updateDayDates()">
                    </select>
                </form>
            </div>
            <div class="container-fluid">
                <div class="row">
                    <div class="col-4 day-view">
                        <div id="day-view-boston"></div>
                    </div>
                    <div class="col-4 day-view">
                        <div id="day-view-nyc"></div>
                    </div>
                    <div class="col-4 day-view">
                        <div id="day-view-sf"></div>
                    </div>
                </div>
            </div>
        </div>

        <!--step 9-->
        <div id="conclusion" class="visualization">
            <h2>Concluding Thoughts</h2>
        </div>

    </figure>

</section>
</div>

<!-- embedding JS libraries -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
        crossorigin="anonymous"></script>

<!-- d3 -->
<script src="https://d3js.org/d3.v7.js"></script>

<!-- leaflet -->
<script src="js/leaflet.js"></script>

<!-- scrollma -->
<script src="https://unpkg.com/intersection-observer"></script>
<script src="https://unpkg.com/scrollama"></script>

<!-- Your implementation -->
<script src="js/forceNetworkVis.js"></script>
<script src="js/barVis.js"></script>
<script src="js/windMap.js"></script>
<script src="js/timeSeriesPlotVis.js"></script>
<script src="js/timeSeriesTimeline.js"></script>
<script src="js/timeSeriesVis.js"></script>
<script src="js/dayView.js"></script>
<script src="js/dayViewRadial.js"></script>
<script src="js/stackedAreaVis.js"></script>
<script src="js/lineGraphVis.js"></script>
<script src="js/scroller.js"></script>
<script src="js/main.js"></script>
</body>
</html>
